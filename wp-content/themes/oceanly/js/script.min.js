var oceanly=oceanly||{};function oceanlyDomReady(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)}Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},oceanly.setupMainMenu={init:function(){const e=document.getElementById("site-navigation");if(e){const i=e.getElementsByTagName("ul")[0],s=e.querySelector(".menu-toggle");var t,n,a,o;void 0!==i?(i.classList.add("nav-menu"),t=e.querySelectorAll(".main-navigation-arrow-btn"),n=e.querySelectorAll("li > a"),a=e.querySelectorAll("li:not(.menu-item-has-children) > a"),o=e.querySelectorAll("li:last-child:not(.menu-item-has-children) > a"),this.toggleNavigation(s,e),this.toggleTouchClass(e),this.collapseIfClickOutside(s,e),this.collapseIfEscapeKeyPress(s,e),this.collapseOnResize(s,e),this.toggleSubmenu(t,n,a,o),this.trapFocusInModal(e)):s&&(s.style.display="none")}},toggleNavigation:function(t,n){t&&t.addEventListener("click",function(e){e.preventDefault(),n.classList.toggle("toggled"),t&&("true"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","false"):t.setAttribute("aria-expanded","true"))})},toggleTouchClass:function(e){var t="main-navigation--touch";function n(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}n()&&e.classList.add(t),window.addEventListener("resize",function(){n()?e.classList.add(t):e.classList.remove(t)})},collapseIfClickOutside:function(t,n){document.addEventListener("click",function(e){n.contains(e.target)||(n.classList.remove("toggled"),t&&t.setAttribute("aria-expanded","false"),[].forEach.call(n.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(n.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")}))})},collapseIfEscapeKeyPress:function(t,n){document.addEventListener("keyup",function(e){"Escape"===e.key&&(n.classList.remove("toggled"),t&&t.setAttribute("aria-expanded","false"))})},collapseOnResize:function(e,t){window.addEventListener("resize",function(){window.matchMedia("screen and (min-width: 576px)").matches&&(t.classList.remove("toggled"),e&&e.setAttribute("aria-expanded","false"))})},toggleSubmenu:function(e,t,n,a){function o(){for(var e=this,t=!1;"ul"!==e.tagName.toLowerCase();)"li"!==e.tagName.toLowerCase()||t||e.classList.contains("focus")||(t=e),e=e.parentElement;[].forEach.call(e.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(e.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")}),t&&(t.classList.add("focus"),this.setAttribute("aria-expanded","true"))}function i(e){const t=this.parentElement,n=9===e.keyCode,a=e.shiftKey;n&&a&&t.classList.contains("focus")?(t.classList.remove("focus"),this.setAttribute("aria-expanded","false")):!n||a||t.classList.contains("focus")||(t.classList.add("focus"),this.setAttribute("aria-expanded","true"))}function s(){for(var e=this,t=!1;!e.classList.contains("nav-menu");)t||"ul"!==e.tagName.toLowerCase()||([].forEach.call(e.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(e.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")}),t=!0),e=e.parentElement}function c(){for(var e=this;!e.classList.contains("nav-menu");)"li"!==e.tagName.toLowerCase()||e.classList.contains("focus")||(e.classList.add("focus"),e.querySelector(".main-navigation-arrow-btn")&&this.setAttribute("aria-expanded","true")),e=e.parentElement}function l(e){var t,n=this,a=9===e.keyCode,e=e.shiftKey;if(a&&!e){for(;t=function(e){for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}(n),n=n.parentElement,!t;);[].forEach.call(n.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(n.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")})}}[].forEach.call(e,function(e){e.addEventListener("click",o),e.addEventListener("keydown",i)}),[].forEach.call(t,function(e){e.addEventListener("focus",s)}),[].forEach.call(n,function(e){e.addEventListener("focus",c)}),[].forEach.call(a,function(e){e.addEventListener("keydown",l)})},trapFocusInModal:function(c){document.addEventListener("keydown",function(e){if(c.classList.contains("toggled")){var t=c.querySelectorAll("input, a, button");if(!(t.length<1)){const n=t[0],a=t[t.length-1],o=document.activeElement,i=9===e.keyCode,s=e.shiftKey;i&&!s&&a===o&&(e.preventDefault(),n.focus()),i&&s&&n===o&&(e.preventDefault(),a.focus())}}})}},oceanly.backToTop={offset:300,offsetOpacity:1200,scrollDuration:700,init:function(){var e=document.querySelector(".back-to-top");e&&(this.handleScroll(e),this.handleClick(e))},handleScroll:function(t){var n=this.offset,a=this.offsetOpacity,o=!1;function e(){var e=window.scrollY||document.documentElement.scrollTop;n<e?t.classList.add("back-to-top--show"):(t.classList.remove("back-to-top--show"),t.classList.remove("back-to-top--fade-out")),a<e&&t.classList.add("back-to-top--fade-out"),o=!1}window.addEventListener("scroll",function(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,250))})},handleClick:function(t){t.addEventListener("click",function(e){var n,a,o,i,s,c;e.preventDefault(),window.requestAnimationFrame?(n=0,a=this.scrollDuration,i=window.scrollY||document.documentElement.scrollTop,s=null,c=function(e){var t=e-(s=s||e);a<t&&(t=a);e=Math.easeInOutQuad(t,i,n-i,a);window.scrollTo(0,e),t<a?window.requestAnimationFrame(c):o&&o()},window.requestAnimationFrame(c)):window.scrollTo(0,0),t.blur()}.bind(this))}},oceanlyDomReady(function(){oceanly.setupMainMenu.init(),oceanly.backToTop.init()});