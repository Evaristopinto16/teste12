!function(e,t){"use strict";var a=function(t,a){bdtUIkit.notification({message:"<div bdt-spinner></div>"+e(t).find(".bdt_spinner_message").val(),timeout:!1}),e(t).find("button.bdt-button").attr("disabled",!0);var n=e(t).find(".redirect_after_register").val();e.ajax({type:"POST",dataType:"json",url:element_pack_ajax_login_config.ajaxurl,data:{action:"element_pack_ajax_register",first_name:e(t).find(".first_name").val(),last_name:e(t).find(".last_name").val(),email:e(t).find(".user_email").val(),password:e(t).find(".user_password").val(),is_password_required:e(t).find(".is_password_required").val(),"g-recaptcha-response":e(t).find("#g-recaptcha-response").val(),widget_id:a.data("id"),page_id:e(t).find(".page_id").val(),security:e(t).find("#bdt-user-register-sc").val(),lang:element_pack_ajax_login_config.language},success:function(a){var i=t.find(".element-pack-google-recaptcha");if(i.length>0){var d=i.attr("data-widgetid");grecaptcha.reset(d),grecaptcha.execute(d)}!0===a.registered?(bdtUIkit.notification.closeAll(),bdtUIkit.notification({message:"<div class=\"bdt-flex\"><span bdt-icon='icon: info'></span><span>"+a.message+"</span></div>",status:"primary"}),n&&(document.location.href=n)):(bdtUIkit.notification.closeAll(),bdtUIkit.notification({message:"<div class=\"bdt-flex\"><span bdt-icon='icon: warning'></span><span>"+a.message+"</span></div>",status:"warning"})),e(t).find("button.bdt-button").attr("disabled",!1)}})},n=function(){var t,a=e(".element-pack-google-recaptcha");a.length>0&&a.each((function(){var a=e(this),n=a.attr("data-widgetid");void 0!==n&&!1!==n||(t=grecaptcha.render(e(this).attr("id"),{sitekey:a.data("sitekey"),callback:function(e){""!==e&&a.append(jQuery("<input>",{type:"hidden",value:e,class:"g-recaptcha-response"}))}}),a.attr("data-widgetid",t))}))};window.onLoadElementPackRegisterCaptcha=n;var i=function(e,t){var n=e.find(".bdt-user-register-widget"),i=e.find(".element-pack-google-recaptcha"),d=e.find(".bdt-user-register");n.on("submit",(function(t){t.preventDefault(),a(n,e)})),elementorFrontend.isEditMode()&&void 0===i.attr("data-widgetid")&&onLoadElementPackRegisterCaptcha(),i.length>0&&grecaptcha.ready((function(){var e=i.attr("data-widgetid");grecaptcha.execute(e)}));var r=d.data("settings");if(r&&void 0!==r.passStrength){console.log(r);var o=0,s=t("#"+r.id),c=t("#"+r.id).find(".bdt-progress-bar"),l={progress:function(e=0){e<=100&&t(c).css({width:e+"%"})},formula:function(e,a){return a<6?(o=0,t(c).css("background","#ff4d4d")):a<8?(o=10,t(c).css("background","#ffff1a")):null==e.match(/0|1|2|3|4|5|6|7|8|9/)&&null==e.match(/[A-Z]/)?(o=40,t(c).css("background","#ffc14d")):a<12?(o=50,t(c).css("background","#1aff1a")):(o=60,t(c).css("background","#1aff1a")),null!=e.match(/[a-z]/)&&(o+=10),null!=e.match(/[A-Z]/)&&(o+=10),null!=e.match(/0|1|2|3|4|5|6|7|8|9/)&&(o+=10),null!=e.match(/\W/)&&null!=e.match(/\D/)&&(o+=10),o},forceStrongPass:function(e){e>=70?t(s).find(".elementor-field-type-submit .bdt-button").prop("disabled",!1):t(s).find(".elementor-field-type-submit .bdt-button").prop("disabled",!0)},init:function(){e.find(".user_password").keyup((function(){var e=t(this).val(),a=e.length;let n=l.formula(e,a);console.log(n),l.progress(n),void 0!==r.forceStrongPass&&l.forceStrongPass(n)})),void 0!==r.forceStrongPass&&t(s).find(".elementor-field-type-submit .bdt-button").prop("disabled",!0)}};l.init()}};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-user-register.default",i),elementorFrontend.hooks.addAction("frontend/element_ready/bdt-user-register.bdt-dropdown",i),elementorFrontend.hooks.addAction("frontend/element_ready/bdt-user-register.bdt-modal",i)}))}(jQuery,window.elementorFrontend);